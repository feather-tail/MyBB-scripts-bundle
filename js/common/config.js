(() => {
  'use strict';
  window.ScriptConfig = {
    adminBank: {
      endpoints: {
        bankApiUrl: 'https://feathertail.ru/ks/bank/bank-api.php',
        forumApiBase: '/api.php',
        profileUrl: (uid) => `/profile.php?section=fields&id=${uid}`,
        profileFormSelector: 'form[action*="profile.php"][method="post"]',
      },
      profile: {
        moneyFieldName: 'form[fld4]',
        decimals: 2,
      },
      requestTimeoutMs: 15000,
      selectors: {
        root: '#ks-bank-admin-root',
        messages: '#ks-bank-admin-messages',
        summaryBox: '#ks-bank-admin-summary',
        list: '#ks-bank-admin-list',
        reloadBtn: '#ks-bank-admin-reload',
        statusFilter: '#ks-bank-admin-status',
        searchInput: '#ks-bank-admin-search',
      },
    },
    adminGamepostRecount: {
      forumIds: [10, 13, 11, 12, 17, 18, 29],
      includeFirstPost: false,
      apiBase: '/api.php',
      topicsPerRequest: 100,
      postsPerRequest: 100,
      delayBetweenRequestsMs: 200,
      retryAttempts: 2,
      retryBaseDelayMs: 800,
      logToConsole: true,
      selectors: {
        runButton: '#ks-recount-run',
        saveButton: '#ks-recount-save',
        logBox: '#ks-recount-result',
        summaryBox: '#ks-recount-progress',
      },
      backend: {
        endpoint: 'https://feathertail.ru/gamestats/index.php',
        method: 'recalc',
        subscription: 'KSPIRITS-TEST',
        tableKey: 'ks-global',
      },
    },
    adminGamepostReward: {
      forumIds: [10, 11, 12, 13, 17],
      includeFirstPost: false,
      apiBase: '/api.php',
      topicsPerRequest: 100,
      postsPerRequest: 100,
      delayBetweenRequestsMs: 250,
      retryAttempts: 3,
      retryBaseDelayMs: 900,
      logToConsole: true,
      baseReward: 10,
      fastMultiplier: 1.5,
      fastThresholdSeconds: 24 * 3600,
      episodeForumId: 17,
      episodeCompletedForumId: 17,
      endpoints: {
        bankApiUrl: 'https://feathertail.ru/ks/bank/bank-api.php',
        stateApiUrl: 'https://feathertail.ru/ks/rewards/rewards-state-api.php',
      },
      selectors: {
        runButton: '#ks-gpreward-run',
        applyButton: '#ks-gpreward-apply',
        previewBox: '#ks-gpreward-preview',
        summaryBox: '#ks-gpreward-summary',
        warningBox: '#ks-gpreward-warning',
        errorBox: '#ks-gpreward-error',
      },
      safety: {
        maxTopicPages: 5000,
        maxPostPagesPerTopic: 20000,
      },
    },
    adminUsersSync: {
      apiBase: 'https://feathertail.ru/gamestats/users-sync.php',
      timeoutMs: 30000,
      maxSkip: 500,
    },
    balanceTool: {
      ui: {
        insertAfterSelector: '.rsp_wrap',
        openButtonText: '–ë–∞–ª–∞–Ω—Å',
        runButtonText: '–í—ã–ø–æ–ª–Ω–∏—Ç—å',
        labels: { type: '–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏', amount: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ' },
        inputStyle: 'color:#111 !important',
      },
      access: { allowedTopicIds: ['155', '233', '318', '393', '503'], allowedGroupIds: [1, 2] },
      profileFieldKey: 'fld4',
      operations: [
        { title: '–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ', factor: 1, topics: 'all' },
        { title: '–°–ø–∏—Å–∞–Ω–∏–µ', factor: -1, topics: 'all' },
      ],
      decimals: 2,
      decoratePost: true,
      simulateOnly: false,
      rate: { max: 10, windowMs: 300000 },
      wrapper: {
        start: `[spoiler="[b]–û–ë–†–ê–ë–û–¢–ê–ù–û[/b] ({{ADMIN_NAME}}) ‚Äî –±—ã–ª–æ: {{CACHE_BEFORE}}, —Å—Ç–∞–ª–æ: {{CACHE_AFTER}}"]\n[b]–û–ø–µ—Ä–∞—Ü–∏—è:[/b] –∞–≤—Ç–æ&#8209;–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏–∑ —Ç–µ–º—ã –±–∞–Ω–∫–∞\n\n`,
        end: `\n[/spoiler]`,
      },
      adminAliases: { 2: 'Kayden Moore', 4: 'Red thread of fate' },
      endpoints: {
        profileUrl: (uid) => `/profile.php?section=fields&id=${uid}`,
        profileFormSelector: 'form[action*="profile.php"][method="post"]',
        postEditUrl: (pid) => `/edit.php?id=${pid}&action=edit`,
        postEditFormSelector: 'form[action*="edit.php"][method="post"]',
        postEditMessageField: 'req_message',
      },
      requestTimeoutMs: 15000,
      toastDurationMs: 2200,
    },
    bankShop: {
      forumBaseUrl: 'https://kindredspirits.ru/',
      storageKeyPrefix: 'ks-bank-cart-',
      endpoints: {
        configUrl: 'https://feathertail.ru/ks/bank/bank.json',
        apiUrl: 'https://feathertail.ru/ks/bank/bank-api.php',
      },
      selectors: {
        root: '#ks-bank-root',
        messages: '#ks-bank-messages',
        myRequestsMessages: '#ks-bank-requests-messages',
        spendList: '#ks-bank-spend-list',
        earnList: '#ks-bank-earn-list',
        cartSpend: '#ks-bank-cart-spend',
        cartEarn: '#ks-bank-cart-earn',
        balanceBox: '#ks-bank-balance',
        summaryBox: '#ks-bank-summary',
        generateBtn: '#ks-bank-generate',
        requestsRoot: '#ks-bank-requests',
        requestsList: '#ks-bank-requests-list',
        requestsToggle: '#ks-bank-requests-toggle',
        requestsToggleIcon: '#ks-bank-requests-toggle-icon',
      },
      restorePrompt:
        '–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ –±–∞–Ω–∫–∞. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?',
    },
    bbcodeMask: {
      blockTag: 'mask',
      defaultAvatar: 'https://i.imgur.com/bQuC3S1.png',
      buttonIcon: 'https://i.imgur.com/ONu0llO.png',
      storageKey: 'maskListUser',
      storageLimit: 20,
      localDraftKey: 'maskFormDraft',
      safeProtocols: ['http:', 'https:', 'mailto:', 'ftp:'],
      allowedGroups: [1, 2, 6],
      userFieldOrder: [
        'pa-fld2',
        'pa-author',
        'pa-title',
        'pa-avatar',
        'post-sig',
        'pa-fld1',
      ],
      bbTagMap: { b: 'strong', i: 'em', u: 'u', s: 's' },
      forumAccess: {
        PR: ['–†–µ–∫–ª–∞–º–∞'],
      },
      forumAccessExtended: {
        –ê–¥–º–∏–Ω–∫–∞: ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        –ì–æ—Å—Ç–µ–≤–∞—è: ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏—Ä–µ': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–î–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        –ê–Ω–∫–µ—Ç—ã: ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–õ–∏—á–Ω—ã–µ –¥–µ–ª–∞': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        –ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è: ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–¢–µ–Ω—å –ø—Ä–æ—à–ª–æ–≥–æ': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–ú–≥–Ω–æ–≤–µ–Ω–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–í–µ—è–Ω–∏–µ –±—É–¥—É—â–µ–≥–æ': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ç–≤—å': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–ó–æ–Ω–∞ –æ—Ç–¥—ã—Ö–∞': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        –ò–≥—Ä–æ–≤–∞—è: ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        –ë–ª–æ–≥–∏: ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–ö–Ω–∏–≥–∏ —Å—É–¥–µ–±': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        '–ü—Ä–µ—Ä–≤–∞–Ω–Ω—ã–µ –Ω–∏—Ç–∏': ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
        PR: ['–ê–¥–º–∏–Ω', '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä', '–û–¥–∞—Ä—ë–Ω–Ω—ã–π'],
      },
      guestAccess: ['–ö–Ω–∏–≥–∏ —Å—É–¥–µ–±', '–ü—Ä–µ—Ä–≤–∞–Ω–Ω—ã–µ –Ω–∏—Ç–∏'],
      fields: {
        author: {
          tags: ['nick', 'nic'],
          class: 'pa-author',
          max: 25,
          label: '–ù–∏–∫',
          defaultCode: '–ò–º—è –ü–µ—Ä—Å–æ–Ω–∞–∂–∞',
          type: 'text',
        },
        status: {
          tags: ['status', 'sta'],
          class: 'pa-title',
          max: 50,
          label: '–°—Ç–∞—Ç—É—Å',
          defaultCode: '–ü—Ä–æ—Ñ–µ—Å—Å–∏—è, —Ä–∞—Å–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–µ',
          type: 'text',
        },
        avatar: {
          tags: ['icon', 'ava'],
          class: 'pa-avatar',
          label: '–ê–≤–∞—Ç–∞—Ä',
          defaultCode: 'https://i.imgur.com/bQuC3S1.png',
          type: 'avatar',
        },
        signature: {
          tags: ['sign', 'sgn', 'signature'],
          class: 'post-sig',
          label: '–ü–æ–¥–ø–∏—Å—å',
          defaultCode: '[b]–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ[/b]',
          type: 'bbcode',
        },
        race: {
          tags: ['race'],
          class: 'pa-fld2',
          label: '–†–∞—Å–∞',
          defaultCode: '<div title=—É–∫–∞–∂–∏—Ç–µ —Ä–∞—Å—É –ø–æ-—Ä—É—Å—Å–∫–∏>w/f/t/h</div>',
          type: 'html',
        },
        lz: {
          tags: ['lz'],
          class: 'pa-fld1',
          label: '–õ–ó',
          defaultCode:
            '<div class=lz-name><a href=—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å>–ò–º—è –§–∞–º–∏–ª–∏—è</a>, –≤–æ–∑—Ä–∞—Å—Ç</div> <div class=lz-text>–¢–µ–∫—Å—Ç –õ–ó</div>',
          type: 'html',
        },
      },
      sanitize: {
        allowedTags: [
          'b',
          'i',
          'u',
          's',
          'strong',
          'em',
          'a',
          'img',
          'br',
          'span',
          'div',
          'sup',
          'sub',
          'mark',
          'abbr',
          'blockquote',
          'details',
          'summary',
          'ul',
          'ol',
          'li',
          'table',
          'tr',
          'td',
          'hr',
        ],
        allowedAttrs: {
          a: ['href', 'target', 'rel'],
          img: ['src', 'alt'],
          abbr: ['title'],
          mark: ['title'],
          blockquote: ['title'],
          details: ['title'],
          summary: ['title'],
          span: ['style'],
          div: ['style', 'title', 'class'],
        },
        allowedInlineStyles: [
          'color',
          'text-align',
          'font-size',
          'font-family',
        ],
        blockSvgInImg: true,
        safeProtocols: ['http:', 'https:', 'ftp:', 'mailto:'],
      },
      selectors: {
        post: '.post',
        content: '.post-content',
        profile: '.post-author ul',
        toolbarRow: '#form-buttons tr, #form-buttons',
        textarea: [
          '#message',
          'textarea[name="req_message"]',
          'textarea[name="message"]',
          'textarea:not([readonly]):not([disabled])',
        ],
        previewBox: '#post-preview',
      },
      maxCacheEntries: 300,
    },
    bbcodeFloat: {
      buttonAfterSelector: 'td#button-link',
      postContentSelector: '.post-content',
      previewSelector: '#post-preview .post-content',
      toolbarId: 'float-toolbar',
      floatButtonId: 'button-float',
      buttonTitle: '–û–±—Ç–µ–∫–∞–Ω–∏–µ',
      toolbarTitle: '–û–±—Ç–µ–∫–∞–Ω–∏–µ',
      buttonIcon: '/i/blank.gif',
      buttons: {
        left: { title: '–°–ª–µ–≤–∞', iconClass: 'fa-solid fa-indent' },
        right: {
          title: '–°–ø—Ä–∞–≤–∞',
          iconClass: 'fa-solid fa-indent',
          iconStyle: 'transform:scaleX(-1)',
        },
      },
      floatStyles: {
        left: 'float:left;margin:25px;text-align:left;display:inline-block;max-width:90%',
        right:
          'float:right;margin:25px;text-align:right;display:inline-block;max-width:90%',
      },
      floatRx: /\[float=(left|right)\]([\s\S]{1,11000}?)\[\/float\]/gi,
    },
    bbcodeHideProfile: {
      allowedGroups: [1, 2, 6],
      selectors: {
        post: '.post',
        postBody: '.post-body',
        buttonInsert: '',
      },
      buttonIcon: '/i/blank.gif',
      tag: '[hideprofile]',
      hideClass: 'hide-profile',
      buttonText: '–°–∫—Ä—ã—Ç—å –º–∏–Ω–∏–ø—Ä–æ—Ñ–∏–ª—å',
    },
    bbcodeImageInsert: {
      buttonAfterSelector: '#button-image',
      buttonId: 'button-image-insert',
      buttonTitle: '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ',
      buttonIcon: '/i/blank.gif',
      bbcodeOpen: '[img]',
      bbcodeClose: '[/img]',
    },
    bbcodeIndent: {
      bbcode: '[indent]',
      marginLeft: '2em',
      selectors: '.post-content, #post-preview .post-content',
      buttonAfterSelector: '#button-strike',
      buttonId: 'button-indent-btn',
      buttonTitle: '–û—Ç—Å—Ç—É–ø—ã',
      buttonIcon: '/i/blank.gif',
    },
    bbcodeJustify: {
      insertAfterSelector: '#button-right',
      buttonId: 'button-justify',
      buttonIcon: '/i/blank.gif',
      title: '–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —à–∏—Ä–∏–Ω–µ',
      bbcodeOpen: '[align=justify]',
      bbcodeClose: '[/align]',
    },
    characterModal: {
      id: 'character-modal',
      classes: {
        wrap: 'modal__wrap',
        bg: 'modal__bg',
        open: 'open',
        hidden: 'hidden',
        tab: 'modal__tab',
        active: 'active',
        tabContent: 'modal__content',
        tabs: 'modal__tabs',
      },
      delays: { open: 20, close: 220 },
      ajaxFolder: 'pages/',
      charset: 'windows-1251',
      showAwards: true,
      awardsApi: 'https://core.rusff.me/rusff.php',
    },
    charactersParser: {
      forumsWithCharacters: [8],
      apiBase: '/api.php',
      topicsPerRequest: 100,
      postsPerRequest: 100,
      pageDelayMs: 200,
      retryAttempts: 2,
      retryBaseDelayMs: 800,
      pagePath: '/pages/characters',
      mountId: 'characters-root',
      cacheTtlMs: 30 * 60 * 1000,
      imageIndex: 2,

      ui: {
        title: '–ü–µ—Ä—Å–æ–Ω–∞–∂–∏',
        filters: {
          name: '–ò–º—è / –§–∞–º–∏–ª–∏—è',
          age: '–í–æ–∑—Ä–∞—Å—Ç',
          gender: '–ü–æ–ª',
          race: '–†–∞—Å–∞',
          status: '–°—Ç–∞—Ç—É—Å',
          clear: '–°–±—Ä–æ—Å–∏—Ç—å',
          refresh: '–û–±–Ω–æ–≤–∏—Ç—å',
          sort: '–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞',
        },
        sort: {
          nameAZ: '–ò–º—è A&#8594;–Ø',
          ageAsc: '–í–æ–∑—Ä–∞—Å—Ç: –º–ª–∞–¥—à–µ&#8594;—Å—Ç–∞—Ä—à–µ',
          ageDesc: '–í–æ–∑—Ä–∞—Å—Ç: —Å—Ç–∞—Ä—à–µ&#8594;–º–ª–∞–¥—à–µ',
        },
        placeholders: {
          name: '–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–º—è / Name',
          ageFrom: '–æ—Ç',
          ageTo: '–¥–æ',
        },
        empty: '–ü–æ–¥ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.',
        loadError:
          '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å.',
      },
    },
    charProfileTool: {
      access: {
        allowedForumIds: [7, 8, 9],
        allowedGroupIds: [1],
      },

      selectors: {
        insertAfter: 'input.button.preview[name="preview"]',
        lzSource: '.custom_tag_charpt, .char-pt, [data-bbcode="charpt"]',
      },

      ui: {
        fillProfileText: '–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—è',
        createPageText: '–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É',
        changeGroupText: '–°–º–µ–Ω–∞ –≥—Ä—É–ø–ø—ã',
      },

      profile: {
        moneyDefault: '40',
        postsDefault: '0',
        targetGroupId: 6,
        fieldNames: {
          race: 'form[fld2]', // –í–∏–¥
          title: 'form[fld1]', // –õ–∏—á–Ω–æ–µ –∑–≤–∞–Ω–∏–µ
          badge: 'form[fld3]', // –ü–ª–∞—à–∫–∞
          money: 'form[fld4]', // –î–µ–Ω—å–≥–∏
          posts: 'form[fld5]', // –ò–≥—Ä–æ–≤—ã–µ –ø–æ—Å—Ç—ã
        },
      },
      endpoints: {
        apiBase: '/api.php',
        profileUrl: (uid) => `/profile.php?section=fields&id=${uid}`,
        profileFormSelector: 'form[action*="profile.php"][method="post"]',
        adminProfileUrl: (uid) => `/profile.php?section=admin&id=${uid}`,
        adminEditPageUrl: (slug) =>
          `/admin_pages.php?edit_page=${encodeURIComponent(slug)}`,
        adminProfileFormSelector:
          'form[action*="profile.php?section=admin"][method="post"], form#profile11',
        adminAddPageUrl: '/admin_pages.php?action=adddel',
        adminAddPageFormSelector:
          'form[action*="admin_pages.php"][method="post"], form#addpage',
      },
      requestTimeoutMs: 15000,
    },
    copyCode: {
      buttonText: '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥',
      doneText: '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ',
      resetTimeout: 1200,
    },
    copyPosts: {
      allowedForumIds: [10, 11, 12, 13, 17, 18, 29],
      selectors: {
        singleInsertAfter: 'h3 strong',
        allInsertAfter: '#pun-crumbs1',
        postRoot: 'div.post',
        postAuthor: '.pa-author a',
        postContent: '.post-content',
        postSig: '.post-sig',
      },
      ui: {
        singleBtnLabel: 'üìã',
        allBtnLabel: 'üìÑ',
        singleBtnTitle: '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–æ—Å—Ç',
        allBtnTitle: '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã –≤ —Ç–µ–º–µ',
        toastCloseLabel: '–ó–∞–∫—Ä—ã—Ç—å',
        warnHugeOne: '–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π.',
        warnHugeAll: '–¢–µ–∫—Å—Ç –≤—Å–µ–π —Ç–µ–º—ã –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π.',
        copyFail: '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.',
        topicIdFail: '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å ID —Ç–µ–º—ã.',
        fetchFail: '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ—Å—Ç–∞—Ö.',
        copiedOne: '–ü–æ—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.',
        copiedAll: '–í–µ—Å—å —Ç–µ–∫—Å—Ç —Ç–µ–º—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω.',
        actionDownload: '–°–∫–∞—á–∞—Ç—å .txt',
        actionCopyAnyway: '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë —Ä–∞–≤–Ω–æ',
      },
      limits: {
        clipboardSoftLimitBytes: 1_000_000,
        maxPages: 200,
        pageLimit: 100,
      },
      format: {
        joinSeparator: '\n\n---\n\n',
        fileNamePrefix: 'topic',
        titleMaxLen: 80,
      },
    },
    chronoParser: {
      forumsWithGames: { active: [10, 11, 13], done: [17, 29] },
      currentYear: 2026,
      topicsPerRequest: 100,
      postsPerRequest: 100,
      topicIdsPerRequest: 25,
      maxTopicsPages: 500,
      maxPostsPages: 500,
      pageDelayMs: 200,
      retryAttempts: 2,
      retryBaseDelayMs: 800,
      apiBase: '/api.php',
      pagePath: '/pages/chrono',
      mountId: 'chrono-root',
      headingActive: '–ê–∫—Ç–∏–≤–Ω—ã–µ —ç–ø–∏–∑–æ–¥—ã',
      headingDone: '–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —ç–ø–∏–∑–æ–¥—ã',
      seriesDefaultStyle: 'https://forumstatic.ru/files/001c/82/f2/24385.css?v=3',
      seriesStyles: {},
      announceMaxChars: 220,
    },
    cursorManager: {
      insertAfterSelector: '#pun-crumbs1',
      storageKey: 'selectedCursor',
      respectReducedMotion: true,
      defaultCursorImg: 'https://upforme.ru/uploads/001c/89/3b/2/926162.png',
      cursors: [
        { id: 'auto', title: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π', value: 'auto' },
        { id: 'pointer', title: '–£–∫–∞–∑–∞—Ç–µ–ª—å', value: 'pointer' },
        { id: 'cross', title: '–ö—Ä–µ—Å—Ç', value: 'crosshair' },
        {
          id: 'red',
          title: '–ö—Ä–∞—Å–Ω—ã–π',
          url: 'https://upforme.ru/uploads/001c/89/3b/2/407488.png',
          x: 2,
          y: 2,
          fallback: 'auto',
        },
        {
          id: 'paw',
          title: '–õ–∞–ø–∫–∞',
          url: 'https://upforme.ru/uploads/001c/89/3b/2/695986.png',
          x: 6,
          y: 2,
          fallback: 'pointer',
        },
        {
          id: 'dagger',
          title: '–ö–∏–Ω–∂–∞–ª',
          url: 'https://upforme.ru/uploads/001c/89/3b/2/33066.png',
          x: 3,
          y: 1,
          fallback: 'default',
        },
        {
          id: 'comet',
          title: '–ö–æ–º–µ—Ç–∞ (—à–ª–µ–π—Ñ)',
          type: 'trail',
          dotCount: 10,
          size: 10,
          color: 'rgba(0,132,255,.85)',
          decayMs: 500,
        },
      ],
    },
    defaultAvatars: {
      DEFAULT_AVATAR: 'https://forumstatic.ru/files/001c/82/f2/64447.jpg',
      avatarByRole: {
        0: 'https://forumstatic.ru/files/001c/82/f2/23507.jpg',
        3: 'https://forumstatic.ru/files/001c/82/f2/50471.jpg',
      },
    },
    dice: {
      maxDice: 9,
      maxSides: 100,
      obfOffset: 1193,
      buttonAfterSelector: '#button-addition',
      buttonSelector: '#dice-roll-btn',
      buttonIcon: '/i/blank.gif',
    },
    domWrappers: {
      groups: [
        {
          rootSelector: '#pun-index .tcr',
          targetSelector: '.lastpost-link, .lastpost',
          wrapperClass: 'tcr-wrap',
        },
        {
          rootSelector: '#pun-stats',
          targetSelector: '.item1, .item2, .item3, .item4',
          wrapperClass: 'statsinfo',
        },
        {
          rootSelector: '.punbb .post .post-author',
          targetSelector: 'li.pa-title, .pa-avatar, .pa-fld6,.pa-fld1',
          wrapperClass: 'author-wrap',
        },
        {
          rootSelector: '#pun-main .post-author ul',
          targetSelector: '.pa-posts, .pa-respect, .pa-fld4, .pa-fld5',
          wrapperClass: 'wrap-resp',
        },
        {
          rootSelector: '.post-box',
          targetSelector: '.post-rating, .post-vote',
          wrapperClass: 'rsp_wrap',
        },
        {
          rootSelector: 'body',
          targetSelector: '#selectMobVers, #selectDescVers',
          wrapperClass: 'sty',
        },
      ],
    },
    episodeTracker: {
      allowedGroupIds: [1, 2, 6],
      oneDayMs: 86400000,
      maxParticipants: 10,
      selectors: {
        anchor: '#h-uploads',
        insertAfter: '',
      },
    },
    fieldTitleHints: {
      rules: [
        { selector: '.pa-fld4 .fld-name', title: '–¥–µ–Ω—å–≥–∏' },
        { selector: '.pa-fld5 .fld-name', title: '–∏–≥—Ä–æ–≤—ã–µ –ø–æ—Å—Ç—ã' },
        { selector: '.pa-posts .fld-name', title: '—Å–æ–æ–±—â–µ–Ω–∏—è' },
        { selector: '.pa-respect .fld-name', title: '—Ä–µ–ø—É—Ç–∞—Ü–∏—è' },
      ],
    },
    fontResizer: {
      fontSelector: '.post-content, #main-reply',
      extraSelectors: [
        '.post-box .custom_tag_katexttext',
        '.post-box .custom_tag_katext',
        '.post-box .custom_tag_kindredaca',
      ],
      storageKey: 'postFontSize',
      minSize: 10,
      maxSize: 38,
      defaultSize: 14,
      insertAfterSelector: '',
      defaultAnchorSelector: '.post h3 strong',
    },
    forumAccessGuard: {
      enabled: true,
      allowedGroupIds: ['1', '2', '4', '6'],
      protectedForumIds: ['8'],
      blockMode: 'redirect',
      redirectUrl: '/',
      hideRowsOnIndex: true,
      selectors: {
        forumRowIdPrefix: 'forum_f',
        mainContainer: '#pun-main, #brd-main, main, #container, body',
      },
      blockedMessageHTML:
        '<div style="max-width:720px;margin:64px auto;padding:24px;border:1px solid var(--hair,#ccc);border-radius:12px;background:var(--paper,#fff);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,sans-serif;">' +
        '<h2 style="margin:0 0 12px;">–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω</h2>' +
        '<p style="margin:0 0 12px;">–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.</p>' +
        '<p style="margin:0;color:#666;">–ï—Å–ª–∏ –≤—ã —Å—á–∏—Ç–∞–µ—Ç–µ, —á—Ç–æ —ç—Ç–æ –æ—à–∏–±–∫–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.</p>' +
        '</div>',
    },
    forumTopicsDivider: {
      selectors: {
        forum: '#pun-viewforum',
        stickyRows: 'tr[class$="isticky"]',
        stickyLabel: '.stickytext',
      },
      headers: {
        important: '–í–∞–∂–Ω—ã–µ —Ç–µ–º—ã',
        regular: '–¢–µ–º—ã —Ñ–æ—Ä—É–º–∞',
      },
    },
    gamepostCounter: {
      viewerGroups: [1, 2, 3, 4, 5, 6],
      includeFirstPost: false,
      forumsRules: {
        defaultMode: 'all',
        perForum: new Map([
          ['10', { mode: 'all' }],
          ['11', { mode: 'all' }],
          ['12', { mode: 'all' }],
          ['13', { mode: 'all' }],
          ['17', { mode: 'all' }],
          ['18', { mode: 'all' }],
          // ['10', { mode: 'include', topics: new Set([27]) }],
          // ['14', { mode: 'exclude', topics: new Set([101]) }],
        ]),
      },
      ui: {
        showBadgesInTopic: true,
        badgeSource: 'total',
        profileBadgeSource: 'total',
        fieldId: 5,
        maxUsersToDecorate: 200,
        launcherAfter: '#button-addition',
        launcherText: '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å—Ç–æ–≤',
        forumsOnly: [2],
      },
      backend: {
        endpoint: 'https://feathertail.ru/gamestats/index.php',
        subscription: 'KSPIRITS-TEST',
        tableKey: 'ks-global',
        limit: 40,
        scope: 'site',
      },
      settingsMenuSection: 'settings',
      toggleInsertAfter: '',
    },
    giftsTool: {
      access: {
        adminAllowedTopicIds: ['233'],
        adminAllowedGroupIds: [1],
      },
      currency: {
        label: '$',
        profileFieldKey: 'fld4',
        decimals: 2,
      },
      order: {
        marker: 'KS_GIFT_ORDER:',
        version: 1,
        maxCommentLen: 255,
      },
      send: {
        delayMs: 650,
      },
      endpoints: {
        profileFieldsUrl: (uid) => `/profile.php?section=fields&id=${uid}`,
      },
      groups: {
        order: ['–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ', '–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è', '–õ—é–±–æ–≤—å'],
        otherTitle: '–î—Ä—É–≥–æ–µ',
        rememberState: true,
      },
      giftsUrl: 'https://feathertail.ru/ks/bank/gifts.php',
      gifts: [],
    },
    guestAddress: {
      selector: '.pa-author',
      group: 3,
    },
    imageUploader: {
      anchorSelector: 'p.areafield.required .resizable-textarea > span',
      replyTextareaSelector: '#main-reply',
      defaultHost: 'forum',
      allowedMimes: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],
      maxFilesPerBatch: 20,
      defaultInsertFormat: 'img',
      showOnDemand: true,
      storage: { host: 'rfu:host', fmt: 'rfu:fmt' },
      forumUpload: {
        endpoint: '/upload',
        token: () => window.ForumAPITicket || '',
        buildUrl: (fname) => helpers.buildForumUploadsURL(fname),
        headers: () => ({}),
      },
      enabledHosts: ['forum', 'imgbb'],
      imgbb: { key: '6230a29b3ea5f686064c2b5010146c36' },
    },
    insertAddress: {
      snippet: '[b]{{USER}}[/b], ',
      selector: 'textarea',
    },
    mobileThemeSwitcher: {
      themes: [
        {
          value: 'mobile',
          className: 'mobile',
          title: '–º–æ–±–∏–ª—å–Ω–∞—è —Ç–µ–º–∞',
        },
      ],
      storageKey: 'selectedMobileTheme',
      insertAfterSelector: '#pun-crumbs2',
      settingsMenuSection: 'mobileThemes',
      containerId: 'mobile_theme_switcher',
      cookieName: null,
      cookiePath: '/',
      cookieDays: 365,
    },
    multiaccount: {
      allowedGroups: [1, 2, 6, 10],
      selectors: {
        navMenu: '#pun-navlinks ul.container',
        logout: '#navlogout',
      },
      ids: {
        navProfiles: 'navprofiles',
        usernameInput: 'multiacc-username-input',
        passwordInput: 'multiacc-password-input',
      },
      classes: {
        profileMenu: 'multiacc-profilemenu',
        deleteBtn: 'multiacc-delete-btn',
        active: 'multiacc-active',
        overlay: 'multiacc-overlay',
        dialog: 'multiacc-dialog',
      },
      storageKeys: {
        accounts: 'multiacc_accounts',
        active: 'multiacc_active_user',
        key: 'multiacc_key',
      },
      loginUrl: 'login.php?action=in',
      formFields: {
        formSent: 'form_sent',
        redirectUrl: 'redirect_url',
        username: 'req_username',
        password: 'req_password',
      },
      texts: {
        menuTitle: '–ê–∫–∫–∞—É–Ω—Ç—ã',
        addAccount: '–î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç',
        usernameLabel: '–õ–æ–≥–∏–Ω:',
        passwordLabel: '–ü–∞—Ä–æ–ª—å:',
        addButton: '–î–æ–±–∞–≤–∏—Ç—å',
        cancelButton: '–û—Ç–º–µ–Ω–∞',
        duplicateAccount: '–ê–∫–∫–∞—É–Ω—Ç —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!',
        deleteButton: 'X',
      },
    },
    mutualPR: {
      ALLOWED_GROUPS: [1, 2, 4, 5, 6],
      TARGET_TOPIC: '–†–µ–∫–ª–∞–º–∞',
      PR_TEMPLATES: [
        `[align=center][url=https://kindredspirits.ru][img]https://forumstatic.ru/files/001c/82/f2/21734.jpg[/img][/url][/align]
[align=center][i]Kindred Spirits. –ú–µ—Å—Ç–æ, –≥–¥–µ –º–æ–∂–Ω–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –¥—É—à–æ–π.[/i][/align]
[align=center]&#10070; –∞–≤—Ç–æ—Ä—Å–∫–∏–π –º–∏—Ä    &#10070; –º–∏—Å—Ç–∏–∫–∞    &#10070; –∞–∫–∞–¥–µ–º–∏—è      &#10070; —Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–µ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏  &#10070; 18+[/align]`,
      ],
      COPY_SUCCESS_TEXT: '–ù–∞—à —à–∞–±–ª–æ–Ω –∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∑–∞–∏–º–Ω—É—é —Ä–µ–∫–ª–∞–º—É —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!',
      BUTTON_LABEL: '–í–∑–∞–∏–º–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞',
    },
    newMessagesLink: {
      allowedGroupIds: [1, 2, 6],
      url: '/search.php?action=show_new',
      text: '–ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è',
    },
    postPreview: {
      debounceDelay: 2000,
      toggleCookie: '_PreviewToggle',
      allowedForums: [10, 11, 13],
      toggleInsertAfter: '#form-buttons',
      settingsMenuSection: 'settings',
      checkInterval: 100,
    },
    postsCharCounter: {
      allowedForumIds: [10, 11, 12, 13],
      allowedGroupIds: [1, 2, 3, 4, 5, 6],
      storageKey: 'postsCharCounterToggle',
      toggleInsertAfter: '',
      toggleLabel: '–°—á—ë—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤ –≤ –ø–æ—Å—Ç–∞—Ö',
      settingsMenuSection: 'settings',
      selectors: {
        posts: '.post:not(.topicpost)',
        insertAfter: '',
        defaultAfter: '.post-content',
        maskSelectors: ['.post-mask', '.mask', '.pl-mask', '[data-mask]'],
      },
      flags: { stripMaskBBCode: true },
    },
    gossipQuickLogin: {
      login: 'Gossip',
      pass: '1111',
      redirectUrl: 'https://kindredspirits.ru/viewtopic.php?id=515',
      loginUrl: 'login.php?action=in',
      formFields: {
        formSent: 'form_sent',
        redirectUrl: 'redirect_url',
        username: 'req_username',
        password: 'req_password',
      },
      selectors: {
        triggerLink: '#gossip-create',
      },
    },
    prQuickLogin: {
      login: 'PR',
      pass: '1111',
      redirectUrl: 'https://kindredspirits.ru/viewtopic.php?id=527',
      selectors: {
        btn: '#pr-quick-login',
        navLogin: '#navlogin',
        form: 'form[action*="login"]',
        userInput: 'input[name="req_username"]',
        passInput: 'input[name="req_password"]',
        submitInput: 'input[type="submit"]',
        redirectField: 'input[name="redirect_url"]',
      },
    },
    quicktip: {
      enabled: true,
      delayMs: 1200,
      speedMs: 300,
      xOffset: 26,
      yOffset: -5,
      defaultTitle: '–ø–æ–¥—Å–∫–∞–∑–∫–∞',
      reuseTooltip: true,
      useDelegation: true,
      tooltipId: 'tooltip',
      selectors: [
        'a[title]',
        'img[title]',
        'abbr[title]',
        'div[title]',
        'span[title]',
      ],
    },
    quickReputation: {
      enabled: true,
      addComment: true,
      behavior: {
        ratingClickMode: 'ajax+default',
        openDefaultWithCtrlClick: true,
      },
      selectors: {
        post: '.post',
        ratingLink: '.post-rating p > a',
        postVoteBlock: 'div.post-vote',
        postVoteLink: 'div.post-vote p > a',
        emailProfileLink: '.pl-email a[href*="profile.php?"]',
        respectField: '.pa-respect',
        positiveField: '.pa-positive',
        reputationSendBtn: '#reputationButtonSend',
      },
      classes: {
        noNull: 'noNull',
      },
      texts: {
        plusNoCommentTitle: '–ü–ª—é—Å –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è',
        plusWithCommentTitle: '–ü–ª—é—Å–∏–∫–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º',
        ignoreAlertSubstring: '–ú—ã –Ω–µ —Å–º–æ–≥–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ',
      },
      ids: {
        postVotePrefix: 'post-',
      },
    },
    quoteBubble: {
      bubbleId: 'quote-bubble',
      iconUrl:
        'http://www.iconsearch.ru/uploads/icons/crystalclear/16x16/comment.png',
      postSel: '.post[id]',
      topicId: 'pun-viewtopic',
      offsetX: -2,
      offsetY: -2,
    },
    quotePostLink: {
      selectors: {
        cite: '.quote-box>cite',
        inlineQuote: '#pun-viewtopic .pl-quote > a',
        post: (id) => `.post${id}`,
        postRoot: '.post',
      },
      linkTemplates: {
        sameTopic: (postId) => postId,
        otherTopic: (pid, postId) => `/viewtopic.php?pid=${pid}${postId}`,
      },
    },
    replaceDash: {
      paragraphSelector: '.post-content p',
      dashRegex: /(^|[\s\u00A0])-(?=[\s\u00A0])/g,
    },
    replaceQuotes: {
      selector: '.post-content p',
      regex: /"([^"]*?)"/g,
    },
    replyCharCounter: {
      settingsMenuSection: 'settings',
      toggleInsertAfter: '',
      selectors: {
        textarea: '#main-reply',
        insertAfter: '',
        defaultBefore: '.formsubmit',
      },
      options: {
        stripMaskBBCode: true,
        useGraphemeCounter: true,
        watchProgrammaticChanges: true,
      },
    },
    replyHotkeys: {
      selectors: {
        textarea: '#main-reply',
        insertAfter: '.preview',
        defaultBefore: '.formsubmit',
        submit: '.submit',
      },
      texts: {
        trigger: '?',
        title: '–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏',
        close: 'Esc',
      },
      HOTKEYS: [
        ['Ctrl+KeyB', ['[b]', '[/b]', '–∂–∏—Ä–Ω—ã–π']],
        ['Ctrl+KeyI', ['[i]', '[/i]', '–∫—É—Ä—Å–∏–≤']],
        ['Ctrl+KeyU', ['[u]', '[/u]', '–ø–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–π']],
        ['Ctrl+KeyS', ['[s]', '[/s]', '–∑–∞—á—ë—Ä–∫–Ω—É—Ç—ã–π']],
        ['Ctrl+KeyL', ['[align=left]', '[/align]', '–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≤–ª–µ–≤–æ']],
        ['Ctrl+KeyR', ['[align=right]', '[/align]', '–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≤–ø—Ä–∞–≤–æ']],
        ['Ctrl+KeyE', ['[align=center]', '[/align]', '–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É']],
        ['Ctrl+KeyK', ['[url=https://]', '[/url]', '—Å—Å—ã–ª–∫–∞']],
        ['Ctrl+KeyG', ['[spoiler="‚Ä¶"]', '[/spoiler]', '—Å–ø–æ–π–ª–µ—Ä']],
        ['Ctrl+KeyH', ['[hide=999999]', '[/hide]', '—Å–∫—Ä—ã—Ç—ã–π —Ç–µ–∫—Å—Ç']],
        ['Alt+KeyV', ['[video]', '[/video]', '–≤–∏–¥–µ–æ']],
        ['Ctrl+KeyQ', ['[quote]', '[/quote]', '—Ü–∏—Ç–∞—Ç–∞']],
        ['Ctrl+BracketLeft', ['[code]', '[/' + 'code]', '–∫–æ–¥']],
        ['Alt+KeyC', ['[color=maroon]', '[/color]', '—Ü–≤–µ—Ç']],
        ['Alt+KeyT', ['[table][tr][td]', '[/td][/tr][/table]', '—Ç–∞–±–ª–∏—Ü–∞']],
        ['Ctrl+Shift+KeyD', ['[add]', '', '–¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–ø—É—Å—Ç—è']],
        ['Ctrl+Shift+KeyA', ['[abbr="‚Ä¶"]', '[/abbr]', '–ø–æ—è—Å–Ω—è—é—â–∏–π —Ç–µ–∫—Å—Ç']],
        ['Ctrl+Shift+KeyM', ['[mark]', '[/mark]', '–º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç']],
        ['Alt+KeyH', ['[hr]', '', '–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è']],
      ],
    },
    scrollRails: {
      classes: {
        up: '.scroll-rail.rail-up',
        down: '.scroll-rail.rail-down',
      },
      edgeOffset: 80,
    },
    settingsMenu: {
      texts: {
        open: '–ú–µ–Ω—é',
      },
      sections: {
        themes: {
          title: '–¢–µ–º—ã',
          mount: 'themeSwitcher:initSection',
        },
        links: {
          title: '–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏',
          items: [
            {
              text: '–ü—Ä–∞–≤–∏–ª–∞',
              href: 'https://kindredspirits.ru/viewtopic.php?id=32',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
            {
              text: 'F.A.Q.',
              href: 'https://kindredspirits.ru/viewtopic.php?id=33',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
            {
              text: '–°–µ—Ç–∫–∞ —Ä–æ–ª–µ–π –∏ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏',
              href: 'https://kindredspirits.ru/pages/characters',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
            {
              text: '–•—Ä–æ–Ω–æ–ª–æ–≥–∏—è',
              href: 'https://kindredspirits.ru/pages/chrono',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
            {
              text: '–ë–∞–Ω–∫',
              href: 'https://kindredspirits.ru/pages/bank',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
            {
              text: '–°–∫–ª–∞–¥',
              href: 'https://kindredspirits.ru/pages/newbeginning',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
            {
              text: '–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞',
              href: 'https://library.kindredspirits.ru',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
          ],
        },
        games: {
          title: '–ò–≥—Ä—ã',
          items: [
            {
              text: '–ì–∞–¥–∞–Ω–∏–µ –¢–∞—Ä–æ',
              href: 'https://kindredspirits.ru/pages/tarot',
              target: '_blank',
              rel: 'noopener noreferrer',
            },
          ],
        },
        settings: {
          title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
        },
      },
    },
    stickerPack: {
      dataUrl: 'https://feathertail.ru/images/stickers/stickers.json',
      buttonAfterId: 'button-smile',
      buttonIcon: '/i/blank.gif',
      myTabName: '–°–≤–æ–∏',
      storageKey: 'stickerPackUserData',
      hideMyGroupId: 3,
      maxJsonSize: 65000,
      maxUserStickers: 200,
      apiUrl: '/api.php',
      apiSetMethod: 'storage.set',
      apiGetMethod: 'storage.get',
      cacheKey: 'stickerPackForumPacks_v1',
      cacheTtlMs: 1000 * 60 * 60 * 24,
      lastTabKey: 'stickerPackLastTab',
      messages: {
        buttonTitle: '–°—Ç–∏–∫–µ—Ä—ã',
        inputPlaceholder: 'URL —Å—Ç–∏–∫–µ—Ä–∞',
        addButtonLabel: '+',
        removeTitle: '–£–¥–∞–ª–∏—Ç—å',
        toastInvalidUrl: '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ',
        toastTooManyStickers:
          '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å—Ç–∏–∫–µ—Ä–æ–≤, –ø–æ—Å–ª–µ–¥–Ω–∏–π –Ω–µ –±—ã–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω',
        toastUserLimitReached: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å—Ç–∏–∫–µ—Ä–æ–≤, –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç',
        toastUserSaveError: '–ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫',
        toastStorageError: '–°—Ç–∏–∫–µ—Ä—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫',
        toastStorageCorrupted:
          '–°—Ç–∏–∫–µ—Ä—ã –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±—ã–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã, –ø—Ä–∏—à–ª–æ—Å—å –∏—Ö —Å–±—Ä–æ—Å–∏—Ç—å. –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å—Ç—Ä–æ–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ.',
        toastUserLoadWarning:
          '–¢–≤–æ–∏ —Å—Ç–∏–∫–µ—Ä—ã –Ω–µ –ø—Ä–æ–≥—Ä—É–∑–∏–ª–∏—Å—å, –ø—Ä–∏–¥–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ–æ—Ä—É–º–Ω—ã–º–∏',
        toastForumLoadError:
          '–°—Ç–∏–∫–µ—Ä—ã –Ω–µ –≥—Ä—É–∑—è—Ç—Å—è, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ú–æ–∂–µ—Ç, –ø–æ–º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã?',
      },
    },
    stickyNav: {
      enabled: true,
      targets: [
        {
          selector: '#pun-navlinks',
          scrolledClass: 'nav-scrolled',
          threshold: 0,
        },
        {
          selector: '#pun-ulinks',
          scrolledClass: 'user-scrolled',
          threshold: 345,
        },
      ],
    },
    textReplace: {
      rules: [
        {
          selector: '#navadmin',
          search: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ',
          replace: '–ê–ú–°',
        },
        {
          selector: 'li.item1 span',
          search: '–í—Å–µ–≥–æ —Ç–µ–º: ',
          replace: '–¢–µ–º: ',
        },
        {
          selector: 'li.item2 span',
          search: '–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π: ',
          replace: '–°–æ–æ–±—â–µ–Ω–∏–π: ',
        },
        {
          selector: 'li.item3 span',
          search: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ',
          replace: '–ñ–∏—Ç–µ–ª–µ–π: ',
        },
        {
          selector: 'li.item4 span',
          search: '–ü–æ—Å–ª–µ–¥–Ω–∏–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è: ',
          replace: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º: ',
        },
      ],
    },
    themeSwitcher: {
      storage: { key: 'mybb.display.v1', instance: 'winter2025' },
      defaults: { style: 'winter', scheme: 'light', view: 'desktop' },
      styles: [
        { id: 'classic', label: 'Classic' },
        { id: 'winter', label: 'Winter' },
      ],
      htmlFrameSelector:
        'iframe.html_frame, .html-post-box iframe.html_frame, .html-content iframe.html_frame',
      iframeCss: [
        'https://forumstatic.ru/styles/001c/8d/fd/style.1766488328.css',
      ],
      selectors: {
        root: 'html',
        targets: {
          style: 'html',
          scheme: 'body',
          view: 'html',
        },
        controls: {
          style: '[data-display-style]',
          scheme: '[data-display-scheme]',
          view: '[data-display-view]',
          forceMobileCheckbox: '#forceMobileToggle',
        },
        ui: {
          schemeMount: '#stylelist',
          styleMount: '[data-style-mount]',
        },
      },
      classes: {
        stylePrefix: '',
        schemeLight: 'light',
        schemeDark: 'dark',
        forceMobile: 'force-mobile',
        activeControl: 'is-active',
      },
    },
    topicAccessGuard: {
      debug: false,
      listReplacementText: '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω',
      overlay: {
        title: '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω',
        text: '–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Ç–µ–º–µ.',
        homeUrl: '/',
        showBackButton: true,
      },
      behavior: {
        hideInLists: true,
        blockView: true,
        disablePosting: true,
        useObserver: true,
      },
      users: [
        {
          userId: 110,
          login: 'Evelyn Evangeline',
          block: {
            topicIds: [465, 462],
            subjectIncludes: ['–§–ª—É–¥', '–ú—ã—Å–ª–∏'],
          },
        },
      ],
    },
    userActivityIndicator: {
      selectors: {
        post: '.post',
        authorBlock: '.post-author',
        authorLink: '.pa-author > a',
        lastVisit: '.pa-last-visit',
        activeTime: '.pa-online',
      },
      classes: {
        authorOnlineRoot: 'online',
        linkOnline: 'online',
        linkOffline: 'offline',
        indicatorOnline: 'indOnline',
        indicatorOffline: 'indOffline',
      },
      texts: {
        lastVisitPrefix: '–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç:',
        activePrefix: '–ê–∫—Ç–∏–≤–µ–Ω',
        titleOnline: '–û–Ω–ª–∞–π–Ω {{time}}',
        titleOffline: '–ë—ã–ª(–∞) –æ–Ω–ª–∞–π–Ω {{time}}',
      },
    },
    usershow: {
     rootSelector: '#pun-main',
     messageSelectors: ['.post-content', '.postmsg'],
     alwaysUsers: ['Kayden Moore'],
     alwaysGroups: [],
     showAllowedListInStub: true,
     citeText: '–°–∫—Ä—ã—Ç—ã–π —Ç–µ–∫—Å—Ç:',
     stubText: '–°–∫—Ä—ã—Ç—ã–π —Ç–µ–∫—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.',
     prehide: true,
   },
  };
})();






